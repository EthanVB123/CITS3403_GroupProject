<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Friends Page</title>
        <link rel="stylesheet" href="friend_page.css">
    </head>
    <body>
        <h1>Jeffrey Peng</h1>
        <div id="main-container">
            <div class="add-friend">
                <input type="text" id="friend-input" placeholder="Enter friend's username">
                <button id="add-friend-btn">Add Friend</button>
                <p id="message" class="message"></p>
            </div>
            <div id="friends-section">
                <h3 style="margin-top: 25px;">Friends</h3>
                <div class="person" onclick="toggleFriends('jeffrey')">3</div>
                <div id="jeffrey" class="friends-list">
                    <div class="friend-card">
                        <h3 class="friend-name">Ryan</h2>
                        <p class="friend-username">@ryankoo</p>
                        <p class="puzzles-built">Puzzles Built: 42</p>
                        <p class="friend-count">Friends: 28</p>
                    </div>
                    <div class="friend-card">
                        <h3 class="friend-name">Elizabeth</h2>
                        <p class="friend-username">@elizabethshibu</p>
                        <p class="puzzles-built">Puzzles Built: 34</p>
                        <p class="friend-count">Friends: 52</p>
                    </div>
                    <div class="friend-card">
                        <h3 class="friend-name">Ethan</h2>
                        <p class="friend-username">@ethanvanbruchem</p>
                        <p class="puzzles-built">Puzzles Built: 74</p>
                        <p class="friend-count">Friends: 24</p>
                    </div>
                </div>
            </div>
        </div>
        <script>
            function toggleFriends(id) {
                const friendsList = document.getElementById(id);
                friendsList.style.display = (friendsList.style.display === "block") ? "none" : "block";
            }

            // dummy data
            const existingUsernames = ['clashroyale', 'ryankoo', 'elizabethshibu', 'ethanvanbruchem', 'johnsmith', 'clashofclans'];
            const currentFriends = ['ryankoo', 'elizabethshibu', 'ethanvanbruchem'];

            const friendInput = document.getElementById('friend-input');
            const message = document.getElementById('message');
            const addFriendBtn = document.getElementById('add-friend-btn');

            addFriendBtn.addEventListener('click', function() {
                const friendUsername = friendInput.value.trim();
                message.textContent = '';
                if (friendUsername === '') {
                    message.textContent = 'Please enter a username.';
                }
                else if (!existingUsernames.includes(friendUsername)) {
                    message.textContent = 'User not found.';
                }
                else if (currentFriends.includes(friendUsername)) {
                    message.textContent = 'Already friends.';
                }
                else {
                    currentFriends.push(friendUsername);
                    const newFriendCard = document.createElement('div');
                    newFriendCard.className = 'friend-card';
                    newFriendCard.innerHTML = `
                        <h3 class="friend-name">${friendUsername}</h3>
                        <p class="friend-username">@${friendUsername}</p>
                        <p class="puzzles-built">Puzzles Built: 0</p>
                        <p class="friend-count">Friends: 0</p>
                    `;
                    document.getElementById('jeffrey').appendChild(newFriendCard);
                    message.textContent = 'Friend added successfully!';
                }
                friendInput.value = '';
            });
        </script>
    </body>
</html>